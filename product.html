<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRODUCT PAGE</title>
    <link rel="stylesheet" href="css\productstyle.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
</head>
<body>

    <header>
        <nav>
            <a href="index.html">HOME</a>
            <a href="shop.html">SHOP</a>
            <a href="#">COLLECTION</a>
            <a href="#">ABOUT US</a>
        </nav>

        <div class="logo">
            <a href="index.html">
                <img src="images\nlogo.png" alt="CELESTAR Logo">
            </a>
        </div>

        <div class="icons">
            <span class="material-symbols-outlined">search</span></a>
            <span class="material-symbols-outlined">person</span></a>
            <span class="material-symbols-outlined">shopping_bag</span></a>
        </div>
    </header>

    <main>
        <div class="product-image">
            <div class="main-img">
                <img src="images\product1.jpg" alt="product1">
            </div>
            <div class="thumbs">
                <!--<img src="images/stk1.jpg" alt="原圖">
                <img src="images/stk1-1.jpg" alt="預覽1">
                <img src="images/stk1-2.jpg" alt="預覽2">-->
            </div>
        </div>

        <div class="product-info">
            <h2>PRODUCT NAME</h2>
            <p>$1000</p>

            <div class="select-section">
                <label>品項</label><br>
                <select id="itemSelect">
                    <option>預設</option>
                    <option>款式 A</option>
                    <option>款式 B</option>
                </select>
            </div>

            <hr>

            <div class="quantity-section" style="display:none;">
                <label>數量</label><br>
                <div class="quantity">
                    <button id="minus">−</button>
                    <span id="qty">1</span>
                    <button id="plus">＋</button>
                </div>
            </div>

            <hr>

            <div class="total-info" style="display:none;">
                <p>訂購數量：<span id="totalQty">1</span></p>
                <p>總額：<span id="totalPrice">20</span></p>
            </div>

            <div class="buttons">
                <button id="buy" class="buy-btn">直接購買</button>
                <button id="cart" class="cart-btn">加入購物車</button>
            </div>
        </div>
    </main>

    <section class="description">
        <p>商品描述</p>
        <p>dfshudhfsnfsnfsnfysnyonsnvowsvswbsjsnfnfc</p>
        <p>hdsionvfsdvsdsdcfsdncfsdncfksdj</p>
        <p>nfvksdnfksd</p>
        <p>ncfsdfnsdnfnsd</p>
    </section>

    <footer>
        COPYRIGHT © 2025 CELESTAR <br>
        Email : JWKJFKAJ@xxxmail.com   CONTACT NUMBER : 09XXX45X5X <br>
        Address: heven999 | Business Registration Number: 44545adjkz | Business License: 4543Dkjlkf
    </footer>

    <script>
    const minusBtn = document.getElementById('minus');
    const plusBtn = document.getElementById('plus');
    const qtySpan = document.getElementById('qty');
    const buyBtn = document.getElementById('buy');
    const cartBtn = document.getElementById('cart');

    let quantity = 1;

    minusBtn.addEventListener('click', () => {
      if (quantity > 1) quantity--;
      qtySpan.textContent = quantity;
    });

    plusBtn.addEventListener('click', () => {
      quantity++;
      qtySpan.textContent = quantity;
    });

    buyBtn.addEventListener('click', () => {
      alert('前往結帳頁面');
    });

    cartBtn.addEventListener('click', () => {
      alert('已加入購物車');
    });
        // 取得網址參數
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');

        // 模擬商品資料庫（之後可以從 JSON 或資料庫載入）
        const products = {
            1: {
                name: "product 1",
                price: 20,
                img: "images/stk1.jpg",
                thumbs: ["images/stk1.jpg", "images/stk1-1.jpg", "images/stk1-2.jpg"],
                desc: "blue sticker"
            },
            2: {
                name: "product 2",
                price: 20,
                img: "images/stk2.jpg",
                thumbs: [],
                desc: "pink"
            },
            3: {
                name: "product 3",
                price: 20,
                img: "images/stk3.jpg",
                thumbs: [],
                desc: "pink"
            },
            4: {
                name: "product 4",
                price: 20,
                img: "images/stk4.jpg",
                thumbs: [],
                desc: "pink"
            },
            5: {
                name: "product 5",
                price: 20,
                img: "images/stk5.jpg",
                thumbs: [],
                desc: "pink"
            },
            6: {
                name: "product 6",
                price: 20,
                img: "images/stk6.jpg",
                thumbs: [],
                desc: "pink"
            },
            7: {
                name: "product 7",
                price: 20,
                img: "images/acc1.png",
                thumbs: ["images/acc1.png", "images/acc1-1.png"],
                desc: "pink"
            },
            8: {
                name: "product 8",
                price: 20,
                img: "images/acc2.png",
                thumbs: [],
                desc: "pink"
            }
        };

        // 根據 ID 取得商品資料
        const product = products[productId];

        // 將資料顯示到頁面上
        if (product) {
            document.querySelector(".product-info h2").textContent = product.name;
            document.querySelector(".product-info p").textContent = `$${product.price}`;
            document.querySelector(".main-img img").src = product.img;
            const mainImg = document.querySelector(".main-img img");

            const thumbsContainer = document.querySelector(".thumbs");
            thumbsContainer.innerHTML = ""; // 先清空舊的縮圖

            if (product.thumbs && product.thumbs.length > 0) {
                product.thumbs.forEach(src => {
                    const img = document.createElement("img");
                    img.src = src;
                    img.alt = "預覽圖";
                    thumbsContainer.appendChild(img);

                    // 點擊縮圖切換主圖
                    img.addEventListener("click", () => {
                        mainImg.src = img.src;
                    });
                });
            } else {
                // 沒有預覽圖 → 顯示灰底框
                const emptyDiv = document.createElement("div");
                emptyDiv.style.width = "80px";
                emptyDiv.style.height = "80px";
                emptyDiv.style.backgroundColor = "#eee";
                emptyDiv.style.border = "1px solid #ccc";
                thumbsContainer.appendChild(emptyDiv);
            }


            const descSection = document.querySelector(".description");
            descSection.innerHTML = `
            <p>商品描述</p>
            <p>${product.desc}</p>
            `;
            const itemSelect = document.getElementById("itemSelect");
            const quantitySection = document.querySelector(".quantity-section");
            const totalInfo = document.querySelector(".total-info");
            const qtySpan = document.getElementById('qty');
            const totalQty = document.getElementById('totalQty');
            const totalPrice = document.getElementById('totalPrice');

            let quantity = 1;
            const unitPrice = 20; // 單價，可根據選品更換

            // 初始化隱藏
            quantitySection.style.display = "none";
            totalInfo.style.display = "none";

            // 當選擇品項後
            itemSelect.addEventListener("change", () => {
                if (itemSelect.value !== "預設") {
                    quantitySection.style.display = "flex";
                    updateTotal();
                } else {
                    quantitySection.style.display = "none";
                    totalInfo.style.display = "none";
                }
            });

            // 加減按鈕
            document.getElementById('minus').addEventListener('click', () => {
                if (quantity > 1) quantity--;
                qtySpan.textContent = quantity;
                updateTotal();
            });
            document.getElementById('plus').addEventListener('click', () => {
                quantity++;
                qtySpan.textContent = quantity;
                updateTotal();
            });

            // 更新總額
            function updateTotal() {
                totalQty.textContent = quantity;
                totalPrice.textContent = unitPrice * quantity;
                totalInfo.style.display = "block";
            }

        } else {
            document.querySelector("main").innerHTML = "<p>找不到此商品</p>";

        }
    
    </script>

</body>
</html>
